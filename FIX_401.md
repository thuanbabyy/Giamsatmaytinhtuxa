## Hướng Dẫn Fix Lỗi 401 - Server Không Nhận Metrics

### Vấn Đề
Client gửi metrics nhưng server trả về lỗi 401 "Xác thực thất bại" vì server đang chạy code CŨ.

### Giải Pháp

**Bước 1: Dừng tất cả server đang chạy**
```powershell
# Tìm và kill tất cả Java process
Get-Process java | Stop-Process -Force
```

**Bước 2: Vào thư mục server**
```powershell
cd "e:\Lập trình mạng\Giamsatmaytinhtuxa\Giamsatmaytinhtuxa\server"
```

**Bước 3: Chạy server**
```powershell
mvn spring-boot:run
```

**Bước 4: Đợi server start (xem log có dòng "Started ServerApplication")**

**Bước 5: Chạy client**
```powershell
cd ..\client
java -jar target/client-1.0.jar --server.url=http://192.168.0.107:8080
```

### Cách Kiểm Tra
Sau 5-10 giây:
1. Mở `http://192.168.0.107:8080/server`
2. Xem CPU và RAM có hiển thị % không
3. Client log KHÔNG còn lỗi 401

### Nếu Vẫn Lỗi
Xem server log có dòng:
- `Nhận heartbeat đơn giản từ machine: MACHINE-Lilmon-LILMON` ← OK, nhận được
- `Xác thực thất bại` + trả 401 ← Server vẫn chạy code cũ, phải restart lại

### DEBUG: Kiểm Tra API Trực Tiếp
```powershell
# Xem có metrics không
curl http://192.168.0.107:8080/api/machines/MACHINE-Lilmon-LILMON/metrics/latest
```

Nếu trả về JSON với cpuUsage, memoryUsagePercent → Metrics đã được lưu, chỉ cần refresh trang web
