# ============================================
# Cấu hình Server - Hệ Thống Giám Sát Máy Tính
# ============================================

# Server Port
server.port=8080

# ============================================
# Database Configuration - SQL Server
# ============================================
# Cấu hình kết nối SQL Server
# Thay đổi các thông số dưới đây cho phù hợp với cấu hình SQL Server của bạn

# Kết nối SQL Server
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=Giamsatmaytinhtuxa;encrypt=true;trustServerCertificate=true;
spring.datasource.username=sa
spring.datasource.password=1
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect

# CORS Configuration
spring.mvc.cors.allowed-origin-patterns=*
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# CORS Filter Configuration
cors.allowed.origins=*
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed.headers=*
cors.allow.credentials=true

# WebSocket configuration
spring.websocket.allowed-origins=*

# Enable static resource handling
spring.mvc.static-path-pattern=/**
spring.web.resources.static-locations=classpath:/static/

# Disable security for now (for testing)
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# Tự động tạo database nếu chưa tồn tại

spring.datasource.initialization-mode=always

# ============================================
# Logging Configuration
# ============================================
logging.level.com.monitor.server=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=WARN

# ============================================
# Cấu hình Cảnh Báo
# ============================================
# Ngưỡng CPU để cảnh báo (%)
monitor.alert.cpu.threshold=90
# Thời gian CPU cao để sinh cảnh báo (giây)
monitor.alert.cpu.duration=30

# Ngưỡng RAM để cảnh báo (%)
monitor.alert.ram.threshold=85

# Thời gian không nhận heartbeat để coi là offline (giây)
monitor.alert.offline.timeout=60

# ============================================
# Cấu hình WebSocket
# ============================================
# Timeout cho WebSocket connection (milliseconds)
websocket.timeout=30000

